import{g as I}from"./courseService-DfY3-uIV.js";import{g as b,S}from"./api-D1efx5EC.js";import{_ as L,I as N,a as i,b as s,f as x,F as _,e as p,r as y,x as B,y as E,o as n,g as R,t,n as z,h as d,i as m}from"./index-wMkqQ9cd.js";import{L as q}from"./LoadingSpinner-Bbs66dXJ.js";const w={name:"Courses",components:{Icon:N,LoadingSpinner:q},setup(){const g=y([]),a=y({}),v=y(!0),c=async()=>{v.value=!0;try{const e=await I();e.success&&(g.value=e.data);for(const o of g.value){const l=await h(o.id);l.success&&(a.value[o.id]=l.data)}}catch(e){console.error("Error loading courses:",e)}finally{v.value=!1}},h=e=>a.value[e]||[],k=e=>h(e).length,f=e=>{const o=g.value.find(l=>l.id===e);return o?o.title:e},u=e=>(b(S.COURSE_PROGRESS)||[]).filter(l=>l.courseId===e).length,r=e=>{const l=(b(S.COURSE_PROGRESS)||[]).filter(C=>C.courseId===e);if(l.length===0)return 0;const O=l.reduce((C,P)=>C+P.progressPercentage,0);return Math.round(O/l.length)};return B(c),{courses:g,loading:v,getCourseCurriculum:h,getCurriculumCount:k,getCourseName:f,getEnrollmentCount:u,getAvgProgress:r}}},A={class:"courses-view"},M={key:1,class:"courses-container"},V={class:"course-header"},j={class:"course-title-section"},F={class:"course-meta"},G={class:"meta-item"},D={class:"meta-item"},T={class:"course-description"},U={class:"learning-objectives"},H={key:0,class:"prerequisites"},K={key:0},Y={class:"curriculum-section"},J={class:"curriculum-list"},Q={class:"item-number"},W={class:"item-content"},X={class:"item-header"},Z={class:"item-badges"},$={class:"badge badge-small badge-type"},ss={class:"item-description"},es={class:"item-meta"},ts={class:"item-unit"},rs={class:"item-skills"},ns={class:"enrollment-stats"},os={class:"stat"},is={class:"stat"};function as(g,a,v,c,h,k){const f=E("LoadingSpinner"),u=E("Icon");return n(),i("div",A,[a[3]||(a[3]=s("div",{class:"page-header"},[s("div",{class:"header-content"},[s("h1",null,"Courses & Curriculum"),s("p",null,"Browse available courses and their learning content")])],-1)),c.loading?(n(),x(f,{key:0})):(n(),i("div",M,[(n(!0),i(_,null,p(c.courses,r=>(n(),i("div",{key:r.id,class:"course-card"},[s("div",V,[s("div",j,[s("h2",null,t(r.title),1),s("div",F,[s("span",{class:z(["badge",`badge-${r.level}`])},t(r.level),3),s("span",G,[d(u,{name:"clock",size:"16"}),m(" "+t(r.totalHours)+" hours ",1)]),s("span",D,[d(u,{name:"book",size:"16"}),m(" "+t(c.getCurriculumCount(r.id))+" lessons ",1)])])])]),s("p",T,t(r.description),1),s("div",U,[s("h3",null,[d(u,{name:"target",size:"18"}),a[0]||(a[0]=m(" Learning Objectives ",-1))]),s("ul",null,[(n(!0),i(_,null,p(r.learningObjectives,(e,o)=>(n(),i("li",{key:o},t(e),1))),128))])]),r.prerequisites.length>0?(n(),i("div",H,[a[1]||(a[1]=s("strong",null,"Prerequisites:",-1)),(n(!0),i(_,null,p(r.prerequisites,(e,o)=>(n(),i("span",{key:e},[m(t(c.getCourseName(e)),1),o<r.prerequisites.length-1?(n(),i("span",K,", ")):R("",!0)]))),128))])):R("",!0),s("div",Y,[s("h3",null,[d(u,{name:"list",size:"18"}),a[2]||(a[2]=m(" Course Curriculum ",-1))]),s("div",J,[(n(!0),i(_,null,p(c.getCourseCurriculum(r.id),e=>(n(),i("div",{key:e.id,class:"curriculum-item"},[s("div",Q,t(e.order),1),s("div",W,[s("div",X,[s("h4",null,t(e.title),1),s("div",Z,[s("span",$,t(e.type),1),s("span",{class:z(["badge badge-small",`badge-${e.difficulty}`])},t(e.difficulty),3)])]),s("p",ss,t(e.description),1),s("div",es,[s("span",null,[d(u,{name:"clock",size:"14"}),m(" "+t(e.estimatedMinutes)+" min ",1)]),s("span",ts,t(e.unit),1)]),s("div",rs,[(n(!0),i(_,null,p(e.skills,o=>(n(),i("span",{key:o,class:"skill-tag"},t(o),1))),128))])])]))),128))])]),s("div",ns,[s("div",os,[d(u,{name:"users",size:"18"}),s("span",null,t(c.getEnrollmentCount(r.id))+" students enrolled",1)]),s("div",is,[d(u,{name:"trending-up",size:"18"}),s("span",null,t(c.getAvgProgress(r.id))+"% average progress",1)])])]))),128))]))])}const ms=L(w,[["render",as],["__scopeId","data-v-5dd8fd50"]]);export{ms as default};
